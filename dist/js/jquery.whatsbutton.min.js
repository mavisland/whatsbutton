!function(e,l,r){function s(e,s){this.elm=e,this.options=s}s.defaults=(s.prototype={classes:{base:"whatsbutton",position:"is-right",isOpen:"is-open",isActive:"is-active",toggleButton:"wb-toggle-button",toggleBadge:"wb-unread-badge",chatScreen:"wb-chat",chatHeader:"wb-chat-header",userObject:"wb-user-object",userAvatar:"wb-user-avatar",userBody:"wb-user-body",userName:"wb-user-name",userStatus:"wb-user-status",chatBody:"wb-chat-body",messageList:"wb-message-list",messageListItem:"wb-message-list-item",chatFooter:"wb-chat-footer",messageInput:"wb-message-input",submitButton:"wb-send-button"},defaults:{position:"right",showBadge:!0,countBadge:1,timeoutBadge:1500,alwaysOpen:!1,alwaysOpenTimeout:2500,autoOpen:!0,autoOpenTimeout:5e3,doNotDisturb:!1,name:"Tanju Yildiz",avatar:"https://avatars.githubusercontent.com/u/119868?s=128",status:"online",showStatus:!0,messages:"Hello there",placeholder:"Type here...",defaultMessage:"Hello",phone:""},init:function(){return this.config=e.extend({},this.defaults,this.options),this.elm.classList.add(this.classes.base),"left"===this.config.position||"right"===this.config.position?this.elm.classList.add("is-"+this.config.position):this.elm.classList.add(this.classes.position),this.render(),this},setCookie:function(e,s,t){var a,i="";return t&&((a=new Date).setTime(a.getTime()+24*t*60*60*1e3),i="; expires="+a.toUTCString()),r.cookie=e+"="+(s||"")+i+"; path=/"},getCookie:function(e){for(var s=e+"=",t=r.cookie.split(";"),a=0;a<t.length;a++){for(var i=t[a];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(s))return i.substring(s.length,i.length)}return null},eraseCookie:function(e){return r.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"},render:function(){var t=this,e=r.createElement("div");e.classList.add(t.classes.toggleButton),t.elm.appendChild(e),t.config.showBadge&&((n=r.createElement("span")).className=t.classes.toggleBadge,n.innerHTML=t.config.countBadge,e.appendChild(n),setTimeout(function(){r.querySelector("."+t.classes.toggleBadge).style.display="block"},t.config.timeoutBadge));var s=r.createElement("div");s.classList.add(t.classes.chatScreen),t.elm.appendChild(s),t.config.alwaysOpen&&!t.elm.classList.contains(t.classes.isOpen)?(setTimeout(function(){t.elm.classList.add(t.classes.isOpen)},t.config.alwaysOpenTimeout),t.setCookie("wbAlwaysOpen","true")):(t.eraseCookie("wbAlwaysOpen"),t.config.doNotDisturb?"true"!==t.getCookie("wbShownPopup")&&(setTimeout(function(){t.elm.classList.toggle(t.classes.isActive)},t.config.autoOpenTimeout),t.setCookie("wbShownPopup","true")):t.config.autoOpen&&!t.elm.classList.contains(t.classes.isActive)&&(setTimeout(function(){t.elm.classList.toggle(t.classes.isActive)},t.config.autoOpenTimeout),t.setCookie("wbShownPopup","true")));var a=r.createElement("div");a.classList.add(t.classes.chatHeader),s.appendChild(a);var i=r.createElement("div");i.classList.add(t.classes.userObject),a.appendChild(i);var n=r.createElement("img");n.classList.add(t.classes.userAvatar),n.setAttribute("src",t.config.avatar),i.appendChild(n);n=r.createElement("div");n.classList.add(t.classes.userBody),a.appendChild(n);a=r.createElement("strong");a.className=t.classes.userName,a.innerHTML=t.config.name,n.appendChild(a);a=r.createElement("small");a.className=t.classes.userStatus,a.innerHTML=t.config.status,t.config.showStatus&&n.appendChild(a);a=r.createElement("div");a.classList.add(t.classes.chatBody),s.appendChild(a);var o=r.createElement("ul");o.classList.add(t.classes.messageList),a.appendChild(o),"object"==typeof t.config.messages?t.config.messages.forEach(function(s,e){setTimeout(function(){var e=r.createElement("li");e.className=t.classes.messageListItem,e.innerHTML=s,o.appendChild(e)},2e3*e)}):((c=r.createElement("li")).className=t.classes.messageListItem,c.innerHTML=t.config.messages,o.appendChild(c));var c=r.createElement("div");c.classList.add(t.classes.chatFooter),s.appendChild(c);s=r.createElement("input");s.classList.add(t.classes.messageInput),s.setAttribute("type","text"),s.setAttribute("placeholder",t.config.placeholder),c.appendChild(s);s=r.createElement("div");s.classList.add(t.classes.submitButton),c.appendChild(s),e.addEventListener("click",function(){t.elm.classList.contains(t.classes.isOpen)?t.elm.classList.remove(t.classes.isOpen):t.elm.classList.toggle(t.classes.isActive)}),s.addEventListener("click",function(){var e=r.querySelector("."+t.classes.messageInput).value;0===e.length&&(e=t.config.defaultMessage),l.open("https://api.whatsapp.com/send?phone="+t.config.phone+"&text="+encodeURI(e))},!1)}}).defaults,e.fn.whatsbutton=function(e){return this.each(function(){new s(this,e).init()})},l.WhatsButton=s}(jQuery,window,document);